{"version":3,"file":"autocomplete-suggestions.js","sourceRoot":"","sources":["../../../src/services/autocomplete-suggestions.ts"],"names":[],"mappings":";;;;;;;;;AAEA,MAAM,OAAO,uBAAuB;IAOhC,YACI,sBAA2E,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,EACpG,iBAAyB,CAAC,EAC1B,WAAmB,CAAC;QANxB,mBAAc,GAA6B,EAAE,CAAC;QAQ1C,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;IAED,SAAS;QACL,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;QACjD,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC7B,CAAC;IAED,kBAAkB,CAAC,KAAa;QAC5B,OAAO,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC;IAED,sBAAsB;QAClB,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;IACtC,CAAC;IAED,iBAAiB;QACb,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;IAC1C,CAAC;IAEK,kBAAkB,CAAC,IAAY;;YAEjC,6BAA6B;YAE7B,MAAM,WAAW,GAAG,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAEvF,YAAY;YAEZ,IAAI,WAAW,EAAE,EAAE;gBACf,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBACzD,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBACxC,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC;aACrC;iBAAM;gBACH,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;aAC5B;QACL,CAAC;KAAA;CAEJ","sourcesContent":["import { AutoCompleteSuggestion } from '../models/autocomplete-suggestion';\n\nexport class AutoCompleteSuggestions {\n\n    maxSuggestions: number;\n    minInput: number;\n    suggestionData: AutoCompleteSuggestion[] = [];\n    suggestionGenerator: (text: string) => Promise<AutoCompleteSuggestion[]>;\n\n    constructor(\n        suggestionGenerator: (text: string) => Promise<AutoCompleteSuggestion[]> = () => Promise.resolve([]),\n        maxSuggestions: number = 5,\n        minInput: number = 0\n    ) {\n        this.suggestionGenerator = suggestionGenerator;\n        this.maxSuggestions = maxSuggestions;\n        this.minInput = minInput;\n    }\n\n    clearData(): void {\n        console.log('AutoCompleteSuggestions.clearData');\n        this.suggestionData = [];\n    }\n\n    getSuggestionDatum(index: number): AutoCompleteSuggestion {\n        return this.suggestionData[index];\n    }\n\n    getSuggestionDataCount(): number {\n        return this.suggestionData.length;\n    }\n\n    hasSuggestionData(): boolean {\n        return this.suggestionData.length > 0;\n    }\n\n    async prepareSuggestions(text: string): Promise<void> {\n\n        //#region functional members:\n\n        const textIsValid = () => (this.suggestionGenerator && (text.length >= this.minInput));\n\n        //#endregion\n\n        if (textIsValid()) {\n            const suggestions = await this.suggestionGenerator(text);\n            suggestions.splice(this.maxSuggestions);\n            this.suggestionData = suggestions;\n        } else {\n            this.suggestionData = [];\n        }\n    }\n\n}\n"]}