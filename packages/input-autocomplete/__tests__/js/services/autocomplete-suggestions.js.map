{"version":3,"file":"autocomplete-suggestions.js","sourceRoot":"","sources":["../../../src/services/autocomplete-suggestions.ts"],"names":[],"mappings":";;;;;;;;;;;AAEA,MAAa,uBAAuB;IAQhC,YACI,mBAAwE,EACxE,iBAAyB,CAAC,EAC1B,WAAmB,CAAC;QAPxB,mBAAc,GAA6B,EAAE,CAAC;QAS1C,IAAI,CAAC,oBAAoB,GAAG,mBAAmB,CAAC;QAChD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;IAED,SAAS;QACL,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC7B,CAAC;IAEK,kBAAkB,CAAC,IAAY;;YACjC,IAAI,IAAI,CAAC,oBAAoB,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE;gBAC7D,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;gBAC1D,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBACxC,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC;aACrC;iBAAM;gBACH,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;aAC5B;QACL,CAAC;KAAA;CAEJ;AAhCD,0DAgCC","sourcesContent":["import { AutoCompleteSuggestion } from '../models/autocomplete-suggestion';\n\nexport class AutoCompleteSuggestions {\n\n    maxSuggestions: number;\n    minInput: number;\n    suggestionData: AutoCompleteSuggestion[] = [];\n\n    private _suggestionGenerator: (text: string) => Promise<AutoCompleteSuggestion[]>;\n\n    constructor(\n        suggestionGenerator: (text: string) => Promise<AutoCompleteSuggestion[]>,\n        maxSuggestions: number = 5,\n        minInput: number = 0\n    ) {\n        this._suggestionGenerator = suggestionGenerator;\n        this.maxSuggestions = maxSuggestions;\n        this.minInput = minInput;\n    }\n\n    clearData(): void {\n        this.suggestionData = [];\n    }\n\n    async prepareSuggestions(text: string): Promise<void> {\n        if (this._suggestionGenerator && (text.length >= this.minInput)) {\n            const suggestions = await this._suggestionGenerator(text);\n            suggestions.splice(this.maxSuggestions);\n            this.suggestionData = suggestions;\n        } else {\n            this.suggestionData = [];\n        }\n    }\n\n}\n"]}